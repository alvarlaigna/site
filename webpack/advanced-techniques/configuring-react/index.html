<html lang="en"><head><title>SurviveJS - Configuring React</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="
Facebook&#x27;s React is a popular alternative for developing web applications. Even if you don&#x27;t use it, it can be valuable to understand how to configure it.

"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/panel.jpg);"></div><h1 class="post__heading">Configuring React</h1><div class="header-extra"><a href="https://pixabay.com/en/event-technology-light-panel-644537/">Marko Heinrich (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/why-webpack">Why Webpack?</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/automatic-browser-refresh">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/configuring-hmr">Configuring Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/linting">Linting JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/handling-styles">Handling Styles with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/loading">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/linting">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/understanding-loaders">Understanding Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loader-definitions">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-images">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-fonts">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/writing-loaders">Writing Loaders</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/enabling-sourcemaps">Enabling Sourcemaps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/code-splitting">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/processing-with-babel">Processing with Babel</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/hosting-on-github-pages">Hosting on GitHub Pages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing-build">Optimizing Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/minifying">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/consuming-packages">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Configuring React</span></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/configuring-hmr-with-react">Configuring Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/writing-eslint-plugins">Writing ESLint Plugins</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint">Customizing ESLint</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/survivejs-webpack-150">SurviveJS - Webpack - v1.5.0</a></blockquote><div class="chapter-content"><p>Facebook&#39;s <a href="https://facebook.github.io/react/">React</a> is a popular alternative for developing web applications. Even if you don&#39;t use it, it can be valuable to understand how to configure it.</p>
<h2 class="header"><a class="header-anchor" href="#create-react-app-get-started-fast" id="create-react-app-get-started-fast"></a><span class="text">create-react-app - Get Started Fast</span><a class="header-anchor-select" href="#create-react-app-get-started-fast">#</a></h2>
<p><a href="https://www.npmjs.com/package/create-react-app">create-react-app</a> encapsulates a lot of best practices related to developing React applications. It&#39;s particularly useful if you want to get started with a little project fast with minimal setup.</p>
<p>One of the main attractions of <em>create-react-app</em> is a feature known as <em>ejecting</em>. This means that instead of treating it as a project dependency, you&#39;ll get a full webpack setup out of it.</p>
<p>There&#39;s a gotcha, though. After you eject, you cannot go back to the dependency based model and you will have to maintain the resulting setup yourself.</p>
<h2 class="header"><a class="header-anchor" href="#setting-up-babel-with-react" id="setting-up-babel-with-react"></a><span class="text">Setting Up Babel with React</span><a class="header-anchor-select" href="#setting-up-babel-with-react">#</a></h2>
<p>The <em>Processing with Babel</em> chapter covers the essentials of using Babel with webpack. There&#39;s some React specific setup you can perform, though.</p>
<p>Most of React projects rely on a format known as <a href="https://facebook.github.io/jsx/">JSX</a>. It is a superset of JavaScript that allows you to mix XMLish syntax with JavaScript. A lot of people find this convenient as they get something that resembles what they know already while they can use the power of JavaScript.</p>
<p>Some React developers prefer to attach type annotations to their code using a language extension known as <a href="http://flowtype.org/">Flow</a>. The technology fits React well, but it&#39;s not restricted to it. <a href="http://www.typescriptlang.org/">TypeScript</a> is another viable alternative. Both work with JSX.</p>
<h3 class="header"><a class="header-anchor" href="#configuring-with-webpack" id="configuring-with-webpack"></a><span class="text">Configuring with Webpack</span><a class="header-anchor-select" href="#configuring-with-webpack">#</a></h3>
<p>Babel allows us to use JSX with React easily. Some people prefer to name their React components containing JSX using the <code>.jsx</code> suffix. Webpack can be configured to work with this convention. The benefit of doing this is that then your editor will be able to pick up the right syntax based on the file name.</p>
<p>Webpack provides a field known as <a href="https://webpack.js.org/guides/migrating/#resolve-extensions">resolve.extensions</a> that can be used for this purpose. If you want to allow imports like <code>import Button from &#39;./Button&#39;;</code> while naming the file as <em>Button.jsx</em>, set it up as follows:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<span class="token keyword" >const</span> common <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  resolve<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    extensions<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'.js'</span><span class="token punctuation" >,</span> <span class="token string" >'.jsx'</span><span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
</code></pre>
<p>The loader configuration is straight-forward as well. Instead of matching only <code>/\.js$/</code>, we can expand it to include <code>.jsx</code> extension through <code>/\.(js|jsx)$/</code>.</p>
<blockquote class="warning"><i class="icon-attention"></i>In webpack 1 you had to use <code>extensions: [&#39;&#39;, &#39;.js&#39;, &#39;.jsx&#39;]</code> to match files without an extension too. This isn&#39;t needed in webpack 2.</blockquote><h3 class="header"><a class="header-anchor" href="#configuring-with-babel" id="configuring-with-babel"></a><span class="text">Configuring with Babel</span><a class="header-anchor-select" href="#configuring-with-babel">#</a></h3>
<p>To enable JSX with Babel, an addition preset is required. Install it:</p>
<pre><code class="lang-bash">npm i babel-preset-react --save-dev
</code></pre>
<p>You also have to connect the preset with Babel configuration. Here&#39;s the rough idea:</p>
<p><strong>.babelrc</strong></p>
<pre><code class="lang-json"><span class="token punctuation" >{</span>
  <span class="token property" >"presets"</span><span class="token operator" >:</span> <span class="token punctuation" >[</span>
    <span class="token punctuation" >[</span>
      <span class="token string" >"es2015"</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >{</span>
        <span class="token property" >"modules"</span><span class="token operator" >:</span> <span class="token boolean" >false</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token string" >"react"</span>
  <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span>
</code></pre>
<h3 class="header"><a class="header-anchor" href="#rendering-a-react-application" id="rendering-a-react-application"></a><span class="text">Rendering a React Application</span><a class="header-anchor-select" href="#rendering-a-react-application">#</a></h3>
<p>To get a simple React application running you&#39;ll need to mount it to a DOM element first. <a href="https://www.npmjs.com/package/html-webpack-plugin">html-webpack-plugin</a> can come in handy here. It can be combined with <a href="https://www.npmjs.com/package/html-webpack-template">html-webpack-template</a> or <a href="https://www.npmjs.com/package/html-webpack-template-pug">html-webpack-template-pug</a> for more advanced functionality. You can also provide a custom template of your own to it.</p>
<p>Consider the following example:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> HtmlWebpackPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'html-webpack-plugin'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >const</span> HtmlWebpackTemplate <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'html-webpack-template'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> common <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >new</span> <span class="token class-name" >HtmlWebpackPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      template<span class="token punctuation" >:</span> HtmlWebpackTemplate<span class="token punctuation" >,</span>
      title<span class="token punctuation" >:</span> <span class="token string" >'Demo app'</span>
      appMountId<span class="token punctuation" >:</span> <span class="token string" >'app'</span><span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Generate #app where to mount</span>
      mobile<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Scale page on mobile</span>
      inject<span class="token punctuation" >:</span> <span class="token boolean" >false</span> <span class="token comment" spellcheck="true">// html-webpack-template requires this to work</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>env<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>Now that there&#39;s a template and a DOM element where to render, React needs to be told to render there:</p>
<p><strong>app/index.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> ReactDOM <span class="token keyword" >from</span> <span class="token string" >'react-dom'</span><span class="token punctuation" >;</span>

ReactDOM<span class="token punctuation" >.</span><span class="token function" >render</span><span class="token punctuation" >(</span>
  <span class="token operator" >&lt;</span>div<span class="token operator" >></span>Hello world<span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span><span class="token punctuation" >,</span>
  document<span class="token punctuation" >.</span><span class="token function" >getElementById</span><span class="token punctuation" >(</span><span class="token string" >'app'</span><span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>It would be possible to extend the application from here. Depending on your tastes, you might want to name the file as <em>index.jsx</em> instead, but sticking with <em>index.js</em> can be acceptable too.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Check out the <em>Configuring Hot Module Replacement with React</em> appendix to learn how to set up hot loading for React code with webpack and Babel.</blockquote><h3 class="header"><a class="header-anchor" href="#babel-based-optimizations-for-react" id="babel-based-optimizations-for-react"></a><span class="text">Babel Based Optimizations for React</span><a class="header-anchor-select" href="#babel-based-optimizations-for-react">#</a></h3>
<p><a href="https://github.com/thejameskyle/babel-react-optimize">babel-react-optimize</a> implements a variety of React specific optimizations you may want to experiment with.</p>
<p><a href="https://www.npmjs.com/package/babel-plugin-transform-react-remove-prop-types">babel-plugin-transform-react-remove-prop-types</a> is handy if you want to remove <code>propType</code> related code from your production build. It also allows component authors to generated code that&#39;s wrapped so that setting environment at <code>DefinePlugin</code> can kick in and give the same effect without the consumers having to use the plugin.</p>
<h2 class="header"><a class="header-anchor" href="#using-react-lite-instead-of-react-for-production" id="using-react-lite-instead-of-react-for-production"></a><span class="text">Using react-lite Instead of React for Production</span><a class="header-anchor-select" href="#using-react-lite-instead-of-react-for-production">#</a></h2>
<p>React is quite heavy library even though the API is quite small considering. There are light alternatives, such as <a href="https://www.npmjs.com/package/preact">Preact</a> and <a href="https://www.npmjs.com/package/react-lite">react-lite</a>. react-lite implements React&#39;s API apart from features like <code>propTypes</code> and server side rendering.</p>
<p>You lose out in debugging capabilities, but gain far smaller size. Preact implements a smaller subset of features and it&#39;s even smaller than react-lite. Interestingly <a href="https://www.npmjs.com/package/preact-compat">preact-compat</a> provides support for <code>propTypes</code> and bridges the gap between vanilla React and Preact somewhat.</p>
<p>Using react-lite or Preact in production instead of React can save around 100 kB minified code. Depending on your application, this can be a saving worth pursuing. Fortunately integrating react-lite is simple. It takes only a few lines of configuration to pull off.</p>
<p>To get started, install react-lite:</p>
<pre><code class="lang-bash">npm i react-lite --save-dev
</code></pre>
<p>On the webpack side, we can use a <code>resolve.alias</code> to point our React imports to react-lite instead. Consider doing this only for your production setup!</p>
<pre><code class="lang-javascript">resolve<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
  alias<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    <span class="token string" >'react'</span><span class="token punctuation" >:</span> <span class="token string" >'react-lite'</span><span class="token punctuation" >,</span>
    <span class="token string" >'react-dom'</span><span class="token punctuation" >:</span> <span class="token string" >'react-lite'</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>If you try building your project now, you should notice your bundle is considerably smaller.</p>
<p>Similar setup works for Preact too. In that case you would point to <em>preact-compat</em> instead. See <a href="https://github.com/developit/preact-boilerplate">preact-boilerplate</a> for the exact setup and more information.</p>
<p><a href="https://www.npmjs.com/package/inferno">Inferno</a> is yet another alternative. The setup is the same and you can find <em>inferno-compat</em> with a similar idea. I discuss these alternatives in more detail at my slide set known as <a href="https://presentations.survivejs.com/react-compatible-alternatives">React Compatible Alternatives</a>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you stick with vanilla React, you can still optimize it for production usage. See the <em>Setting Environment Variables</em> chapter to see how to achieve this. The same trick works with preact-compat as well.</blockquote><h2 class="header"><a class="header-anchor" href="#exposing-react-performance-utilities-to-browser" id="exposing-react-performance-utilities-to-browser"></a><span class="text">Exposing React Performance Utilities to Browser</span><a class="header-anchor-select" href="#exposing-react-performance-utilities-to-browser">#</a></h2>
<p>React provides a set of powerful <a href="https://facebook.github.io/react/docs/perf.html">performance related utilities</a> for figuring out how your application performs. Enabling them takes some setup. After the setup is done, you can access them through your browser console.</p>
<p>To get started, install the needed dependencies:</p>
<pre><code class="lang-bash">npm i expose-loader react-addons-perf --save-dev
</code></pre>
<p>Next, we need to expose React to the console through the <a href="https://www.npmjs.com/package/expose-loader">expose-loader</a>. The idea is that we&#39;ll bind the React performance utilities to that during development. Here&#39;s the webpack loader configuration for exposing React as a global:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> require<span class="token punctuation" >.</span><span class="token function" >resolve</span><span class="token punctuation" >(</span><span class="token string" >'react'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token string" >'expose-loader?React'</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>After this you should be able to access <code>React</code> through a console. To make it possible to access the performance utilities, we need to do one more step. Add the following to the entry point of your application to enable <code>React.Perf</code> during development:</p>
<pre><code class="lang-javascript"><span class="token keyword" >if</span><span class="token punctuation" >(</span>process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>NODE_ENV <span class="token operator" >!==</span> <span class="token string" >'production'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  React<span class="token punctuation" >.</span>Perf <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'react-addons-perf'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>If you check out the browser console now, you should be able to access the performance related API through <code>React.Perf</code>. The utilities allow you to understand better what&#39;s taking time and squeeze the last bits of performance out of your application. The <em>Elements</em> tab in Chrome can be useful as well. You can see how React operates on the DOM as it flashes.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>It can be a good idea to install <a href="https://github.com/facebook/react-devtools">React Developer Tools</a> to Chrome for even more information. It allows you to inspect <em>props</em> and <em>state</em> of your application.</blockquote><h2 class="header"><a class="header-anchor" href="#optimizing-rebundling-speed-during-development" id="optimizing-rebundling-speed-during-development"></a><span class="text">Optimizing Rebundling Speed During Development</span><a class="header-anchor-select" href="#optimizing-rebundling-speed-during-development">#</a></h2>
<p>We can optimize React&#39;s rebundling times during development by pointing the development setup to a minified version of React. The gotcha is that we will lose <code>propType</code> based validation! But if speed is more important, this technique may be worth a go. You can hide it behind an environment flag for instance if you want type checking.</p>
<p>In order to achieve what we want, we can use webpack&#39;s <code>module.noParse</code> option. It accepts a RegExp or an array of RegExps. We can also pass full paths to it to keep our lives simple.</p>
<p>In addition to telling webpack not to parse the minified file we want to use, we also need to point <code>react</code> to it. This can be achieved using a feature known as <code>resolve.alias</code> just like we did with <em>react-lite</em> above.</p>
<p>We can encapsulate the basic idea within a function like this:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

exports<span class="token punctuation" >.</span>dontParse <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>options<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> alias <span class="token operator" >=</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  alias<span class="token punctuation" >[</span>options<span class="token punctuation" >.</span>name<span class="token punctuation" >]</span> <span class="token operator" >=</span> options<span class="token punctuation" >.</span>path<span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      noParse<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
        options<span class="token punctuation" >.</span>path
      <span class="token punctuation" >]</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    resolve<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      alias<span class="token punctuation" >:</span> alias
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>The function can be used like this through <a href="https://www.npmjs.com/package/webpack-merge">webpack-merge</a>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<span class="token function" >merge</span><span class="token punctuation" >(</span>
  common<span class="token punctuation" >,</span>
<div class="leanpub-insert">
  <span class="token function" >dontParse</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    name<span class="token punctuation" >:</span> <span class="token string" >'react'</span><span class="token punctuation" >,</span>
    path<span class="token punctuation" >:</span> path<span class="token punctuation" >.</span><span class="token function" >join</span><span class="token punctuation" >(</span>
      __dirname<span class="token punctuation" >,</span> <span class="token string" >'node_modules'</span><span class="token punctuation" >,</span> <span class="token string" >'react'</span><span class="token punctuation" >,</span> <span class="token string" >'dist'</span><span class="token punctuation" >,</span> <span class="token string" >'react.min.js'</span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >)</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
</code></pre>
<p>If you try developing your application now, it should be at least a little bit faster to rebuild. The technique can be useful for production usage as well as you avoid some processing then.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><code>module.noParse</code> also accepts a regular expression. If we wanted to ignore all <code>*.min.js</code> files for instance, we could set it to <code>/\.min\.js/</code>. That can be a more generic way to solve the problem in some cases.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>Note that aliasing works also with loaders through <a href="https://webpack.js.org/configuration/resolve/#resolveloader">resolveLoader.alias</a>.</blockquote><blockquote class="warning"><i class="icon-attention"></i>Not all modules support <code>module.noParse</code>, the files included by deps array should have no call to <code>require</code>, <code>define</code> or similar, or you will get an error when the app runs: <code>Uncaught ReferenceError: require is not defined</code>.</blockquote><h2 class="header"><a class="header-anchor" href="#setting-up-flow" id="setting-up-flow"></a><span class="text">Setting Up Flow</span><a class="header-anchor-select" href="#setting-up-flow">#</a></h2>
<p><a href="http://flowtype.org/">Flow</a> performs static analysis based on your code and its type annotations. This means you will install it as a separate tool. You will then run it against your code. There&#39;s a webpack plugin known as <a href="https://www.npmjs.com/package/flow-status-webpack-plugin">flow-status-webpack-plugin</a> that allows you to run it through webpack during development.</p>
<p>When using React, the Babel preset does most of the work. It is able to strip Flow annotations and convert your code into a format that is possible to transpile further.</p>
<p>There&#39;s a Babel plugin known as <a href="https://www.npmjs.com/package/babel-plugin-typecheck">babel-plugin-typecheck</a> that allows you to perform runtime checks based on your Flow annotations. After installing, you should just add the following section to the development section of your <em>.babelrc</em> to enable it:</p>
<p><strong>.babelrc</strong></p>
<pre><code class="lang-json"><span class="token property" >"plugins"</span><span class="token operator" >:</span> <span class="token punctuation" >[</span>
  <span class="token punctuation" >[</span>
    <span class="token string" >"typecheck"</span>
  <span class="token punctuation" >]</span>
<span class="token punctuation" >]</span>
</code></pre>
<p>Even though useful, Flow static checker is able to catch more errors. Runtime checks are still cool, though, and worth enabling if you are using Flow.</p>
<h2 class="header"><a class="header-anchor" href="#setting-up-typescript" id="setting-up-typescript"></a><span class="text">Setting Up TypeScript</span><a class="header-anchor-select" href="#setting-up-typescript">#</a></h2>
<p>Microsoft&#39;s <a href="http://www.typescriptlang.org/">TypeScript</a> is a far more established solution than Facebook&#39;s Flow. As a result, you will find more premade type definitions for it and overall the quality of support should be better. You can use it with webpack using at least the following loaders:</p>
<ul>
<li><a href="https://www.npmjs.com/package/ts-loader">ts-loader</a></li>
<li><a href="https://www.npmjs.com/package/awesome-typescript-loader">awesome-typescript-loader</a></li>
<li><a href="https://www.npmjs.com/package/typescript-loader">typescript-loader</a></li>
<li><a href="https://www.npmjs.com/package/light-ts-loader">light-ts-loader</a></li>
</ul>
<h2 class="header"><a class="header-anchor" href="#maintaining-components" id="maintaining-components"></a><span class="text">Maintaining Components</span><a class="header-anchor-select" href="#maintaining-components">#</a></h2>
<p>One way to structure React projects is to push components to directories which expose their code through a <em>index.js</em> file. Often that&#39;s just boilerplate code which you have to add for webpack to resolve correctly. <a href="https://www.npmjs.com/package/component-directory-webpack-plugin">component-directory-webpack-plugin</a> has been designed to alleviate this problem and it allows you to skip <em>index.js</em> while performing lookups based on a naming convention.</p>
<p>A separate tool known as <a href="https://www.npmjs.com/package/create-index">create-index</a> is a different way to solve the same problem. It literally generates those boilerplate <em>index.js</em> files to your project and keeps them up to date.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>There are a lot of aspects to keep in mind when configuring webpack to work with React. Fortunately, this is something you don&#39;t have to perform often. Once you have a solid basic setup fitting your needs together, it will take you far.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/library.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/peanuts.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/appendices">Appendices</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Appendices" href="/webpack/appendices"><i class="icon-right-open"></i></a><a class="previous-page" title="Authoring Packages" href="/webpack/advanced-techniques/authoring-packages"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/survivejs-webpack-150">SurviveJS - Webpack - v1.5.0</a></li><li><a class="blog-teaser" href="/blog/styletron-interview">Styletron - Universal, high-performance JavaScript styles - Interview with Ryan Tsao</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></li><li><a class="blog-teaser" href="/blog/inferno-interview">Inferno - Blazing fast, React-like UI library - Interview with Dominic Gannaway</a></li><li><a class="blog-teaser" href="/blog/svelte-interview">Svelte - The magical disappearing UI framework - Interview with Rich Harris</a></li><li><a class="blog-teaser" href="/blog/webpack-merge-interview">webpack-merge - Taming Webpack Configuration - Interview with Juho Vepsäläinen</a></li><li><a class="blog-teaser" href="/blog/starratio-interview">StarRatio - Compare JavaScript Projects - Interview with Dmitry Zaets</a></li><li><a class="blog-teaser" href="/blog/redom-interview">RE:DOM - Tiny but Super Fast DOM Library - Interview with Juha Lindstedt</a></li><li><a class="blog-teaser" href="/blog/glamor-interview">Glamor - Inline CSS for React et al - Interview with Sunil Pai</a></li><li><a class="blog-teaser" href="/blog/teaching-javascript-interview">Teaching JavaScript - Interview with Bianca Gandolfo</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
            docsearch({
              apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
              indexName: 'survivejs_webpack',
              inputSelector: '#search',
              debug: false
            });
          </script></div></main></body></html>