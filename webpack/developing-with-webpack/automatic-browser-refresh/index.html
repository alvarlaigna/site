<html lang="en"><head><title>SurviveJS - Automatic Browser Refresh</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="
Tools, such as LiveReload or BrowserSync, allow us to refresh the browser as we develop our application and avoid refresh for CSS changes. It is possible to setup Browsersync to work with webpack through browser-sync-webpack-plugin, but webpack has more tricks in store.

"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/splash.jpg);"></div><h1 class="post__heading">Automatic Browser Refresh</h1><div class="header-extra"><a href="https://pixabay.com/en/splashing-splash-aqua-water-rain-165192/">PublicDomainPictures (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Automatic Browser Refresh</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/refreshing-css">Refreshing CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/enabling-sourcemaps">Enabling Sourcemaps</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/minifying-build">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/hosting-on-github-pages">Hosting on GitHub Pages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading-assets">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/formats-supported">Formats Supported</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loader-definitions">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-styles">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-images">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-fonts">Loading Fonts</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/understanding-chunks">Understanding Chunks</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/linting">Linting in Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/writing-loaders">Writing Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/styletron-interview">Styletron - Universal, high-performance JavaScript styles - Interview with Ryan Tsao</a></blockquote><div class="chapter-content"><p>Tools, such as <a href="http://livereload.com/">LiveReload</a> or <a href="http://www.browsersync.io/">BrowserSync</a>, allow us to refresh the browser as we develop our application and avoid refresh for CSS changes. It is possible to setup Browsersync to work with webpack through <a href="https://www.npmjs.com/package/browser-sync-webpack-plugin">browser-sync-webpack-plugin</a>, but webpack has more tricks in store.</p>
<h2 class="header"><a class="header-anchor" href="#webpack-watch-mode-and-webpack-dev-server-" id="webpack-watch-mode-and-webpack-dev-server-"></a><span class="text">Webpack <code>watch</code> Mode and <em>webpack-dev-server</em></span><a class="header-anchor-select" href="#webpack-watch-mode-and-webpack-dev-server-">#</a></h2>
<p>A good first step towards a better development environment is to use webpack in its <strong>watch</strong> mode. You can activate it through <code>webpack --watch</code>. Once enabled, it will detect changes made to your files and recompiles automatically. A solution known as <em>webpack-dev-server</em> (WDS) builds on top of the watch mode and goes even further.</p>
<p>WDS is a development server running in-memory. It refreshes content automatically in the browser while you develop your application. It also supports an advanced webpack feature known as <strong>Hot Module Replacement</strong> (HMR), which provides a way to patch the browser state without a full refresh. This is particularly powerful with technology such as React.</p>
<p>HMR goes further than simply refreshing browser on change. WDS provides an interface that makes it possible to patch code on the fly. This means you will need to implement it for client-side code. It is trivial for something like CSS by definition (no state), but it&#39;s a harder problem with JavaScript frameworks and libraries. Often careful design is needed to allow this. When the feature works, it is beautiful, though.</p>
<blockquote class="warning"><i class="icon-attention"></i>An IDE feature known as <strong>safe write</strong> can wreak havoc with hot loading. Therefore it is advisable to turn it off when using a HMR based setup.</blockquote><h2 class="header"><a class="header-anchor" href="#emitting-files-from-webpack-dev-server-" id="emitting-files-from-webpack-dev-server-"></a><span class="text">Emitting Files from <em>webpack-dev-server</em></span><a class="header-anchor-select" href="#emitting-files-from-webpack-dev-server-">#</a></h2>
<p>Even though it&#39;s good that WDS operates in-memory by default, sometimes it can be good to emit files to the file system. This is particularly true if you are integrating with other server that expects to find the files. <a href="https://www.npmjs.com/package/webpack-disk-plugin">webpack-disk-plugin</a>, <a href="https://www.npmjs.com/package/write-file-webpack-plugin">write-file-webpack-plugin</a>, and more specifically <a href="https://www.npmjs.com/package/html-webpack-harddisk-plugin">html-webpack-harddisk-plugin</a> can achieve this.</p>
<blockquote class="warning"><i class="icon-attention"></i>You should use <em>webpack-dev-server</em> strictly for development. If you want to host your application, consider other standard solutions, such as Apache or Nginx.</blockquote><h2 class="header"><a class="header-anchor" href="#getting-started-with-webpack-dev-server-" id="getting-started-with-webpack-dev-server-"></a><span class="text">Getting Started with <em>webpack-dev-server</em></span><a class="header-anchor-select" href="#getting-started-with-webpack-dev-server-">#</a></h2>
<p>To get started with WDS, execute:</p>
<pre><code class="lang-bash">npm i webpack-dev-server@2.2.0-rc.0 --save-dev
</code></pre>
<p>As before, this command will generate a command below the <code>npm bin</code> directory. You could try running <em>webpack-dev-server</em> from there. The quickest way to enable automatic browser refresh for our project is to run <code>webpack-dev-server --inline</code>. After that you have a development server running at <code>localhost:8080</code>.</p>
<p><code>--inline</code>, runs the server in so called <em>inline</em> mode that writes the WDS client to the resulting code in addition to yours. The code it writes contains the client it needs to communicate with the server component.</p>
<p>An alternative way to achieve the same result would be to write the entries containing the same code by hand, but often that&#39;s more complicated way to deal with it as then you need to worry about ports. Without the <em>inline</em> mode, you would need to set entries like this:</p>
<pre><code class="lang-javascript">entry<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
  <span class="token comment" spellcheck="true">// Include the client code (note the host/port setting!)</span>
  <span class="token string" >'webpack-dev-server/client?http://localhost:8080'</span><span class="token punctuation" >,</span>

  <span class="token comment" spellcheck="true">// Hot reload only when compiled successfully</span>
  <span class="token string" >'webpack/hot/only-dev-server'</span><span class="token punctuation" >,</span>

  <span class="token comment" spellcheck="true">// Add your entries now</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >]</span><span class="token punctuation" >,</span>
</code></pre>
<h3 class="header"><a class="header-anchor" href="#attaching-webpack-dev-server-to-the-project" id="attaching-webpack-dev-server-to-the-project"></a><span class="text">Attaching <em>webpack-dev-server</em> to the Project</span><a class="header-anchor-select" href="#attaching-webpack-dev-server-to-the-project">#</a></h3>
<p>To integrate WDS to our project, we can follow the same idea as in the previous chapter and define a new command to the <code>scripts</code> section of <em>package.json</em>:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json">...
<span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
<div class="leanpub-insert">
  <span class="token property" >"start"</span><span class="token operator" >:</span> <span class="token string" >"webpack-dev-server --env start"</span><span class="token punctuation" >,</span>
</div>
  <span class="token property" >"build"</span><span class="token operator" >:</span> <span class="token string" >"webpack --env build"</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
...
</code></pre>
<p>We&#39;ll add that <code>--inline</code> part back through webpack configuration in a bit. I prefer to keep the npm <em>scripts</em> portion as simple as possible and push the complexity to configuration. Even though it&#39;s more code to write, it&#39;s also easier to maintain as you can see what&#39;s going on easier.</p>
<p>If you execute either <em>npm run start</em> or <em>npm start</em> now, you should see something like this at the terminal:</p>
<pre><code class="lang-bash"><span class="token operator" >></span> webpack-dev-server --env start

Project is running at http://localhost:8080/
webpack output is served from /
Hash: 589c2d7b750b2711e6bc
Version: webpack 2.2.0-rc.1
Time: 677ms
     Asset       Size  Chunks           Chunk Names
    app.js     246 kB  0<span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
index.html  180 bytes  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
chunk    <span class="token punctuation" >{</span>0<span class="token punctuation" >}</span> app.js <span class="token punctuation" >(</span>app<span class="token punctuation" >)</span> 233 kB <span class="token punctuation" >[</span>entry<span class="token punctuation" >]</span> <span class="token punctuation" >[</span>rendered<span class="token punctuation" >]</span>
<span class="token punctuation" >..</span>.
webpack: bundle is now VALID.
</code></pre>
<p>The output means that the development server is running. If you open <em><a href="http://localhost:8080/">http://localhost:8080/</a></em> at your browser, you should see something familiar.</p>
<p>If you try modifying the code, you should see output at your terminal. The problem is that the browser doesn&#39;t catch these changes without a hard refresh. That&#39;s something we need to resolve next through configuration.</p>
<p><img src="/webpack/images/hello_01.png" alt="Hello world"></p>
<blockquote class="tip"><i class="icon-attention-circled"></i>WDS will try to run in another port in case the default one is being used. So keep an eye on the terminal output to figure out where it ends up running. You can debug the situation with a command like <code>netstat -na | grep 8080</code>. If there&#39;s something running in the port 8080, it should display a message. The exact command may depend on the platform.</blockquote><h2 class="header"><a class="header-anchor" href="#configuring-hot-module-replacement-hmr-" id="configuring-hot-module-replacement-hmr-"></a><span class="text">Configuring Hot Module Replacement (HMR)</span><a class="header-anchor-select" href="#configuring-hot-module-replacement-hmr-">#</a></h2>
<p>Hot Module Replacement builds on top the WDS. It enables an interface that makes it possible to swap modules live. For example, <em>style-loader</em> is able to update your CSS without forcing a refresh. It is easy to perform HMR with CSS as it doesn&#39;t contain any application state.</p>
<p>HMR is possible with JavaScript too, but due to the state we have in our applications, it&#39;s harder. In the <em>Configuring React</em> chapter we discuss how to set it up with React. You can use the same idea elsewhere.</p>
<p>We could use <code>webpack-dev-server --inline --hot</code> to achieve this from the CLI. <code>--hot</code> enables the HMR portion from Webpack through a specific plugin designed for this purpose and writes an entry pointing to a JavaScript file related to it.</p>
<h3 class="header"><a class="header-anchor" href="#defining-configuration-for-hmr" id="defining-configuration-for-hmr"></a><span class="text">Defining Configuration for HMR</span><a class="header-anchor-select" href="#defining-configuration-for-hmr">#</a></h3>
<p>To keep our configuration manageable, I&#39;ll split functionalities like HMR into <em>parts</em> of their own. This keeps our <em>webpack.config.js</em> simple and promotes reuse. We could push a collection like this to a npm package of its own. We could even turn them into presets to use across projects. Functional composition allows that.</p>
<p>I&#39;ll push all of our configuration parts to <em>webpack.parts.js</em> and consume them from there. Here&#39;s what a part would look like for HMR:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> webpack <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

exports<span class="token punctuation" >.</span>devServer <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>options<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    devServer<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// Enable history API fallback so HTML5 History API based</span>
      <span class="token comment" spellcheck="true">// routing works. This is a good default that will come</span>
      <span class="token comment" spellcheck="true">// in handy in more complicated setups.</span>
      historyApiFallback<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>

      <span class="token comment" spellcheck="true">// Unlike the cli flag, this doesn't set</span>
      <span class="token comment" spellcheck="true">// HotModuleReplacementPlugin!</span>
      hot<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
      inline<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>

      <span class="token comment" spellcheck="true">// Display only errors to reduce the amount of output.</span>
      stats<span class="token punctuation" >:</span> <span class="token string" >'errors-only'</span><span class="token punctuation" >,</span>

      <span class="token comment" spellcheck="true">// Parse host and port from env to allow customization.</span>
      <span class="token comment" spellcheck="true">//</span>
      <span class="token comment" spellcheck="true">// If you use Vagrant or Cloud9, set</span>
      <span class="token comment" spellcheck="true">// host: options.host || '0.0.0.0';</span>
      <span class="token comment" spellcheck="true">//</span>
      <span class="token comment" spellcheck="true">// 0.0.0.0 is available to all network devices</span>
      <span class="token comment" spellcheck="true">// unlike default `localhost`.</span>
      host<span class="token punctuation" >:</span> options<span class="token punctuation" >.</span>host<span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Defaults to `localhost`</span>
      port<span class="token punctuation" >:</span> options<span class="token punctuation" >.</span>port <span class="token comment" spellcheck="true">// Defaults to 8080</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token comment" spellcheck="true">// Enable multi-pass compilation for enhanced performance</span>
      <span class="token comment" spellcheck="true">// in larger projects. Good default.</span>
      <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>HotModuleReplacementPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// Disabled as this won't work with html-webpack-template yet</span>
        <span class="token comment" spellcheck="true">//multiStep: true</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>It&#39;s plenty of code, but it&#39;s better to encapsulate it so it contains ideas we understand and want to reuse later on.</p>
<blockquote class="warning"><i class="icon-attention"></i>You should <strong>not</strong> enable HMR for your production configuration. It will likely work, but having the capability enabled there won&#39;t do any good and it will make your bundles bigger than they have to be.</blockquote><h3 class="header"><a class="header-anchor" href="#connecting-with-configuration" id="connecting-with-configuration"></a><span class="text">Connecting with Configuration</span><a class="header-anchor-select" href="#connecting-with-configuration">#</a></h3>
<p>Hooking up this part with our main configuration is simple:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> path <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'path'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >const</span> HtmlWebpackPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'html-webpack-plugin'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >const</span> merge <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack-merge'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >const</span> validate <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack-validator'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<div class="leanpub-insert">
<span class="token keyword" >const</span> parts <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'./webpack.parts'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</div>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<div class="leanpub-delete">
module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>env<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span>common<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</div>
<div class="leanpub-insert">
module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>env<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >if</span> <span class="token punctuation" >(</span>env <span class="token operator" >===</span> <span class="token string" >'build'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span>common<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span>
    common<span class="token punctuation" >,</span>
    <span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// Disable performance hints during development</span>
      performance<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        hints<span class="token punctuation" >:</span> <span class="token boolean" >false</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    parts<span class="token punctuation" >.</span><span class="token function" >devServer</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// Customize host/port here if needed</span>
      host<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>HOST<span class="token punctuation" >,</span>
      port<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>PORT
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</div>
</code></pre>
<p>Execute <code>npm start</code> and surf to <strong>localhost:8080</strong>. Try modifying <em>app/component.js</em>. It should refresh the browser just like earlier, but now we have the setup needed to enable the rest. We&#39;ll cover how CSS modifications can be applied without a hard refresh in the next chapter.</p>
<blockquote class="warning"><i class="icon-attention"></i><em>webpack-dev-server</em> can be very particular about paths. If the given <code>include</code> paths don&#39;t match the system casing exactly, this can cause it to fail to work. Webpack <a href="https://github.com/webpack/webpack/issues/675">issue #675</a> discusses this in more detail.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>You should be able to access the application alternatively through <strong>localhost:8080/webpack-dev-server/</strong> instead of the root. It will provide status information within the browser itself at the top of the application. If your application relies on WebSockets and you use WDS proxying, you&#39;ll need to use this specific url as otherwise WDS own logic will interfere.</blockquote><h3 class="header"><a class="header-anchor" href="#hmr-on-windows-ubuntu-and-vagrant" id="hmr-on-windows-ubuntu-and-vagrant"></a><span class="text">HMR on Windows, Ubuntu, and Vagrant</span><a class="header-anchor-select" href="#hmr-on-windows-ubuntu-and-vagrant">#</a></h3>
<p>The setup may be problematic on certain versions of Windows, Ubuntu, and Vagrant. We can solve this through polling:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> webpack <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

exports<span class="token punctuation" >.</span>devServer <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>options<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    devServer<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
<div class="leanpub-insert">
      watchOptions<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// Delay the rebuild after the first change</span>
        aggregateTimeout<span class="token punctuation" >:</span> <span class="token number" >300</span><span class="token punctuation" >,</span>
        <span class="token comment" spellcheck="true">// Poll using interval (in ms, accepts boolean too)</span>
        poll<span class="token punctuation" >:</span> <span class="token number" >1000</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</div>
      <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
<div class="leanpub-insert">
      <span class="token comment" spellcheck="true">// ignore node_modules so CPU usage with poll watching drops significantly</span>
      <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>WatchIgnorePlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
        path<span class="token punctuation" >.</span><span class="token function" >join</span><span class="token punctuation" >(</span>__dirname<span class="token punctuation" >,</span> <span class="token string" >'node_modules'</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
      <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Given this setup polls the file system, it is going to be more resource intensive. It&#39;s worth giving a go if the default doesn&#39;t work, though.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>There are more details in <em>webpack-dev-server</em> issue <a href="https://github.com/webpack/webpack-dev-server/issues/155">#155</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#accessing-the-development-server-from-network" id="accessing-the-development-server-from-network"></a><span class="text">Accessing the Development Server from Network</span><a class="header-anchor-select" href="#accessing-the-development-server-from-network">#</a></h2>
<p>It is possible to customize host and port settings through the environment in our setup (i.e., <code>export PORT=3000</code> on Unix or <code>SET PORT=3000</code> on Windows). This can be useful if you want to access your server using some other device within the same network. The default settings are enough on most platforms.</p>
<p>To access your server, you&#39;ll need to figure out the ip of your machine. On Unix this can be achieved using <code>ifconfig | grep inet</code>. On Windows <code>ipconfig</code> can be used. An npm package, such as <a href="https://www.npmjs.com/package/node-ip">node-ip</a> may come in handy as well. Especially on Windows you may need to set your <code>HOST</code> to match your ip to make it accessible.</p>
<h2 class="header"><a class="header-anchor" href="#alternative-ways-to-use-webpack-dev-server-" id="alternative-ways-to-use-webpack-dev-server-"></a><span class="text">Alternative Ways to Use <em>webpack-dev-server</em></span><a class="header-anchor-select" href="#alternative-ways-to-use-webpack-dev-server-">#</a></h2>
<p>We could have passed the WDS options through terminal. I find it clearer to manage it within webpack configuration as that helps to keep <em>package.json</em> nice and tidy. It is also easier to understand what&#39;s going on as you don&#39;t need to dig the answers from webpack source.</p>
<p>Alternatively, we could have set up an Express server of our own and used WDS as a <a href="https://webpack.js.org/guides/development/#webpack-dev-middleware">middleware</a>. There&#39;s also a <a href="https://webpack.github.io/docs/webpack-dev-server.html#api">Node.js API</a>. This is a good approach if you want control and flexibility.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://www.npmjs.com/package/dotenv">dotenv</a> allows you to define environment variables through a <em>.env</em> file. This can be somewhat convenient during development!</blockquote><blockquote class="warning"><i class="icon-attention"></i>Note that there are <a href="https://github.com/webpack/webpack-dev-server/issues/106">slight differences</a> between the CLI and the Node.js API. This is the reason why some prefer to solely use the Node.js API.</blockquote><h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>In this chapter you learned to set up webpack to refresh your browser automatically. We can go a notch further and make this work beautifully with CSS files. We&#39;ll do that in the next chapter.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/axe.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/refresh.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/developing-with-webpack/refreshing-css">Refreshing CSS</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Refreshing CSS" href="/webpack/developing-with-webpack/refreshing-css"><i class="icon-right-open"></i></a><a class="previous-page" title="Splitting the Configuration" href="/webpack/developing-with-webpack/splitting-configuration"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/styletron-interview">Styletron - Universal, high-performance JavaScript styles - Interview with Ryan Tsao</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></li><li><a class="blog-teaser" href="/blog/inferno-interview">Inferno - Blazing fast, React-like UI library - Interview with Dominic Gannaway</a></li><li><a class="blog-teaser" href="/blog/svelte-interview">Svelte - The magical disappearing UI framework - Interview with Rich Harris</a></li><li><a class="blog-teaser" href="/blog/webpack-merge-interview">webpack-merge - Taming Webpack Configuration - Interview with Juho Vepsäläinen</a></li><li><a class="blog-teaser" href="/blog/starratio-interview">StarRatio - Compare JavaScript Projects - Interview with Dmitry Zaets</a></li><li><a class="blog-teaser" href="/blog/redom-interview">RE:DOM - Tiny but Super Fast DOM Library - Interview with Juha Lindstedt</a></li><li><a class="blog-teaser" href="/blog/glamor-interview">Glamor - Inline CSS for React et al - Interview with Sunil Pai</a></li><li><a class="blog-teaser" href="/blog/teaching-javascript-interview">Teaching JavaScript - Interview with Bianca Gandolfo</a></li><li><a class="blog-teaser" href="/blog/react-game-kit-interview">react-game-kit - Make games with React - Interview with Ken Wheeler</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
            docsearch({
              apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
              indexName: 'survivejs_webpack',
              inputSelector: '#search',
              debug: false
            });
          </script></div></main></body></html>